(this.webpackJsonpeye_sense_website=this.webpackJsonpeye_sense_website||[]).push([[0],{128:function(e,t,a){e.exports=a.p+"static/media/headerImage.d87d5630.png"},158:function(e,t,a){e.exports=a(212)},198:function(e,t){},212:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),c=a.n(o),i=a(273),l=a(144),s=a(127);a.n(s).a.load({google:{families:["Poppins"]}});var m=Object(i.a)(Object(l.a)({palette:{primary:{main:"#0097A7"}},size:{appBarHeight:"120"},font:{titleFontCategory:'2em "Poppins"',Poppins:"Poppins"}})),u=a(269),p=a(20),g=a(29),h=a(16),d=a(261),f=a(260),E=Object(f.a)((function(e){return{button:{minWidth:"150px"}}})),b=a(2);function x(e){var t=E();return r.a.createElement(d.a,Object.assign({},e,{className:Object(b.a)(t.button,e.className),variant:"contained",color:"primary",disableElevation:!0,onClick:e.onClickFunction}),e.textbefore,e.text)}var v=a(262),O=a(128),j=a.n(O),C=Object(f.a)((function(e){return{root:{width:"100%",height:e.size.appBarHeight+"px",backgroundImage:"url("+j.a+")",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",marginBottom:"35px"},title:{color:"white",fontWeight:"bold",textAlign:"center",fontFamily:e.font.Poppins+" !important"}}})),y=a(213);function k(){var e=C();return r.a.createElement(v.a,{container:!0,className:e.root,justify:"center",alignContent:"center"},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"h3",component:"h1",className:e.title},"Eye Sense")))}var S=a(263),N=Object(f.a)((function(e){return{containerGrid:{textAlign:"center"}}}));function F(e){var t=N(),a=Object(h.f)();return r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(S.a,null,r.a.createElement(v.a,{container:!0,spacing:3,justify:"center",className:t.containerGrid},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(x,{text:"COMMENCER UN TEST",onClickFunction:function(){a.push("/StartTest")}})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(x,{text:"CR\xc9ER UNE CAT\xc9GORIE",onClickFunction:function(){a.push("/CreateCategory")}})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(x,{text:"AJOUTER UNE PHOTO",onClickFunction:function(){a.push("/AddPhotoToCategory")}})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(x,{text:"SUPPRIMER UNE CATEGORIE",onClickFunction:function(){a.push("/DeleteCategory")}})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(x,{text:"STATISTIQUES",onClickFunction:function(){a.push("/Stats")}})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(x,{text:"TOUS LES TESTS",onClickFunction:function(){a.push("/AllTest")}})))))}var I=a(145),w=a(103),z=a.n(w),P=a(129),A=a(8),R=function(e,t){switch(t.type){case"LOGIN":return{isConnected:!0,socket:t.payload.socket};default:return e}},T=a(130),D=a.n(T),_=r.a.createContext();function H(e){var t=function(){var e=Object(n.useReducer)(R,{isConnected:!1}),t=Object(A.a)(e,2),a=t[0],o=t[1],c=function(){var e=Object(P.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=D()("http://localhost:8080/websiteNamespace"),o({type:"LOGIN",payload:Object.assign({socket:t})});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){c()}),[]),{state:a}}();return r.a.createElement(_.Provider,{value:t}," ",e.children)}var B=a(131),M=a(132),L=a.n(M),G=a(100),W=Object(f.a)((function(e){return{main:{zIndex:5,top:"0",right:"0",position:"fixed",width:"100%",height:"100%",backgroundColor:"rgba(255,255,255,0.7)"},display:{display:"none"},loading:{}}}));function V(){var e=Object(B.a)(["\n  transform:translate(-100%,-100%);\n   left:50%;\n   top:50%;\n position:absolute;\n \n"]);return V=function(){return e},e}var J=Object(G.css)(V());var U=function(e){var t=W();return r.a.createElement("div",{className:Object(b.a)(t.main,!e.loading&&t.display)},r.a.createElement(L.a,{css:J,size:50,color:e.color,className:t.loading}))},q=a(24),Y=function(e){var t=e.component,a=(e.restricted,Object(I.a)(e,["component","restricted"])),o=Object(n.useContext)(_),c=Object(q.a)();return r.a.createElement(h.a,Object.assign({},a,{render:function(e){return o.state.isConnected?r.a.createElement(t,Object.assign({},e,{state:o.state})):r.a.createElement(U,{loading:!0,color:c.palette.primary.main})}}))},Q=Object(f.a)((function(e){return{global:{height:"100%"},autoComplete:{minWidth:"350px"},textField:{width:"350px"}}})),K=a(264),X=Object(f.a)((function(e){return{textField:{}}}));function Z(e){var t=X();return r.a.createElement(K.a,Object.assign({},e,{variant:"outlined",className:Object(b.a)(t.textField,e.className)}))}var $=a(270),ee=a(135),te=a.n(ee),ae=a(136),ne=a.n(ae),re=a(272),oe=a(26),ce=a.n(oe),ie=a(220),le=a(274),se=a(222),me=a(217),ue=a(216);function pe(e){var t=Q(),a=Object(h.f)(),n=Object(q.a)(),o=r.a.useState(!0),c=Object(A.a)(o,2),i=c[0],l=c[1],s=Object(p.b)(),m=s.enqueueSnackbar,u=(s.closeSnackbar,r.a.useState({})),g=Object(A.a)(u,2),d=g[0],f=g[1],E=r.a.createRef(),b=r.a.useState(""),O=Object(A.a)(b,2),j=O[0],C=O[1],y=r.a.useState(void 0),N=Object(A.a)(y,2),F=N[0],I=N[1],w=r.a.useState(["","","","","",""]),z=Object(A.a)(w,2),P=z[0],R=z[1];return r.a.useEffect((function(){l(!0),fetch("http://localhost:8080/api/categories/getAllCategories",{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(e){var t=e.filter((function(e){return e.allPhotos.length>=3}));f(t),l(!1)})).catch((function(e){l(!1),e.json().then((function(e){e.message&&m(e.message.message,{autoHideDuration:3e3,variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}))}))}),[]),r.a.createElement("div",null,i?r.a.createElement(U,{loading:!0,color:n.palette.primary.main}):r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(S.a,{className:t.global,maxWidth:"xl"},r.a.createElement(x,{textbefore:r.a.createElement(ce.a,null),text:"Retour",onClickFunction:function(){a.push("/")}}),r.a.createElement(v.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2},r.a.createElement(v.a,{item:!0},r.a.createElement(Z,{className:t.textField,label:"Age",inputRef:E,error:Boolean(P[0]),helperText:P[0],variant:"outlined"})),r.a.createElement(v.a,{item:!0},r.a.createElement(ue.a,{variant:"outlined",className:t.textField,error:Boolean(P[1])},r.a.createElement(se.a,{id:"demo-simple-select-outlined-label"},"Sexe"),r.a.createElement(ie.a,{className:t.textField,value:j,label:"Sexe",onChange:function(e){return C(e.target.value)}},r.a.createElement(le.a,{value:"H"},"Homme"),r.a.createElement(le.a,{value:"F"},"Femme")),r.a.createElement(me.a,null,P[1]))),r.a.createElement(v.a,{item:!0},r.a.createElement($.a,{id:"checkboxes-tags-demo",options:d,onChange:function(e,t){I(t)},disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name},renderOption:function(e,t){var a=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{icon:r.a.createElement(te.a,{fontSize:"small"}),checkedIcon:r.a.createElement(ne.a,{fontSize:"small"}),style:{marginRight:8},checked:a}),e.name)},className:t.autoComplete,renderInput:function(e){return r.a.createElement(Z,Object.assign({},e,{variant:"outlined",error:Boolean(P[2]),helperText:P[2],label:"S\xe9lectionner une / des cat\xe9gorie(s)",placeholder:"Favorites"}))}})),r.a.createElement(v.a,{item:!0},r.a.createElement(x,{onClickFunction:function(){l(!0);var e=!1,t=["","",""];""===E.current.value&&(e=!0,t[0]="Veuillez pr\xe9cisez l'\xe2ge"),""===j&&(e=!0,t[1]="Veuillez pr\xe9cisez le sexe"),void 0!==F&&0!==F.length||(e=!0,t[2]="Veuillez pr\xe9cisez au moins une cat\xe9gorie"),e||(localStorage.setItem("test",JSON.stringify({categorie:F,age:E.current.value,gender:j})),a.push("/Test")),l(!1),R(t)},text:"COMMENCER LE TEST"}))))))}var ge=a(27),he=Object(f.a)((function(e){return{title:{font:e.font.titleFontCategory,marginBottom:"15px"},gridContainer:{textAlign:"center"},input:{display:"none"},img:{margin:"auto",width:"100%"},accordion:{margin:"auto !important",width:"450px"},titleImg:{textAlign:"left",flex:"1"},containerAccordion:{marginTop:"25px"},deleteIcon:{color:"red"}}})),de=a(275),fe=a(266),Ee=a(267),be=a(41),xe=a.n(be),ve=a(79),Oe=a.n(ve);function je(){var e=he(),t=Object(h.f)(),a=r.a.useState([]),n=Object(A.a)(a,2),o=n[0],c=n[1],i=r.a.createRef(),l=Object(p.b)(),s=l.enqueueSnackbar;l.closeSnackbar;return r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(S.a,{maxWidth:"xl"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=i.current.value;""===t?s("Veuillez pr\xe9ciser le nom de la cat\xe9gorie",{autoHideDuration:3e3,variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}}):fetch("http://localhost:8080/api/categories/createCategories",{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify({nameCategory:t,allImg:o})}).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(e){s(e.message.message,{autoHideDuration:3e3,variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}})})).catch((function(e){e.json().then((function(e){e.message&&s(e.message.message,{autoHideDuration:3e3,variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}))}))}},r.a.createElement(x,{textbefore:r.a.createElement(ce.a,null),text:"Retour",onClickFunction:function(){t.push("/")}}),r.a.createElement(v.a,{container:!0,justify:"center",className:e.gridContainer,spacing:3},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"h5",component:"h2",className:e.title},"Cr\xe9er une cat\xe9gorie")),r.a.createElement(v.a,{item:!0,xs:12}),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(Z,{inputRef:i,label:"Nom de la cat\xe9gorie"})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement("input",{accept:"image/*",className:e.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){for(var t=0;t<e.target.files.length;t++){var a;if(e.target.files&&e.target.files[t])!function(){a=new FileReader;var n=e.target.files[t].name;a.readAsDataURL(e.target.files[t]),a.onload=function(e){c((function(t){var a=Object(ge.a)(t);return a.push({src:e.target.result,extension:n.split(".").pop(),name:n}),a}))}}()}}}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(x,{text:"Ajouter une photo",component:"span"}))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(x,{type:"submit",text:"ENVOYER"})),r.a.createElement(v.a,{item:!0,xs:12,className:e.containerAccordion},o.map((function(t,a){return r.a.createElement(de.a,{key:a,className:e.accordion},r.a.createElement(fe.a,{expandIcon:r.a.createElement(xe.a,null)},r.a.createElement(y.a,{ariant:"h5",component:"h2",className:e.titleImg},t.name),r.a.createElement(Oe.a,{className:e.deleteIcon,onClick:function(e){return function(e,t){e.stopPropagation(),c((function(e){var a=Object(ge.a)(e);return a.splice(t,1),Object(ge.a)(a)}))}(e,a)}})),r.a.createElement(Ee.a,null,r.a.createElement("img",{className:e.img,src:t.src})))})))))))}var Ce=Object(f.a)((function(e){return{gridContainer:{textAlign:"center"},title:{font:e.font.titleFontCategory,marginBottom:"15px"},input:{display:"none"},autoComplete:{display:"flex",justifyContent:"center"},accordion:{margin:"auto !important",width:"450px"},containerAccordion:{marginTop:"25px"},titleImg:{textAlign:"left",flex:"1"},img:{margin:"auto",width:"100%"},deleteIcon:{color:"red"}}}));function ye(){var e=Ce(),t=Object(h.f)(),a=r.a.useState([]),n=Object(A.a)(a,2),o=n[0],c=n[1],i=r.a.useState(!0),l=Object(A.a)(i,2),s=l[0],m=l[1],u=r.a.useState({}),g=Object(A.a)(u,2),d=g[0],f=g[1],E=r.a.useState(null),b=Object(A.a)(E,2),O=b[0],j=b[1],C=Object(p.b)(),N=C.enqueueSnackbar,F=(C.closeSnackbar,Object(q.a)());r.a.useEffect((function(){m(!0),fetch("http://localhost:8080/api/categories/getAllCategories",{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(e){f(e),m(!1)})).catch((function(e){console.log(e),m(!1),e.json().then((function(e){e.message&&N(e.message.message,{autoHideDuration:3e3,variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}))}))}),[]);return r.a.createElement("div",null,s?r.a.createElement(U,{loading:!0,color:F.palette.primary.main}):r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(S.a,{maxWidth:"xl"},r.a.createElement(x,{textbefore:r.a.createElement(ce.a,null),text:"Retour",onClickFunction:function(){t.push("/")}}),r.a.createElement(v.a,{container:!0,justify:"center",className:e.gridContainer,spacing:3},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(y.a,{className:e.title},"Ajouter une photo")),r.a.createElement(v.a,{item:!0,xs:12,className:e.autoComplete},r.a.createElement($.a,{options:d,getOptionLabel:function(e){return e.name},style:{width:300},value:O,onChange:function(e,t){return j(t)},renderInput:function(e){return r.a.createElement(K.a,Object.assign({},e,{label:"Cat\xe9gorie",variant:"outlined"}))}})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement("input",{accept:"image/*",className:e.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){for(var t=0;t<e.target.files.length;t++){var a;if(e.target.files&&e.target.files[t])!function(){a=new FileReader;var n=e.target.files[t].name;a.readAsDataURL(e.target.files[t]),a.onload=function(e){c((function(t){var a=Object(ge.a)(t);return a.push({src:e.target.result,extension:n.split(".").pop(),name:n}),a}))}}()}}}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(x,{text:"Ajouter une photo",component:"span"}))),r.a.createElement(v.a,{item:!0,xs:12,className:e.containerAccordion},o.map((function(t,a){return r.a.createElement(de.a,{key:a,className:e.accordion},r.a.createElement(fe.a,{expandIcon:r.a.createElement(xe.a,null)},r.a.createElement(y.a,{ariant:"h5",component:"h2",className:e.titleImg},t.name),r.a.createElement(Oe.a,{className:e.deleteIcon,onClick:function(e){return function(e,t){e.stopPropagation(),c((function(e){var a=Object(ge.a)(e);return a.splice(t,1),Object(ge.a)(a)}))}(e,a)}})),r.a.createElement(Ee.a,null,r.a.createElement("img",{className:e.img,src:t.src})))}))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(x,{type:"submit",text:"ENVOYER",onClickFunction:function(){null===O||null===o?N("NONONON",{autoHideDuration:3e3,variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}}):(m(!0),fetch("http://localhost:8080/api/categories/addPhotos",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({categorie:O,allImg:o})}).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(e){m(!1),N(e.message.message,{autoHideDuration:3e3,variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}})})).catch((function(e){m(!1),e.json().then((function(e){e.message&&N(e.message.message,{autoHideDuration:3e3,variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}))})))}}))))))}var ke=Object(f.a)((function(e){return{containerImg:{width:"100%",height:"250px",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain"}}}));Object(f.a)((function(e){return{img:{height:"100%",width:"100%"},elevation:{height:"348px",width:"424px"},container:{color:"white",height:"348px",width:"424px",fontFamily:"Roboto"},Button:{color:"white",backgroundColor:"#006876",fontSize:"15px",height:"17px",marginBottom:"50px",marginRight:"1px",marginLeft:"1px"},titre:{fontSize:"18px",fontWeight:"bold",marginBottom:"20px"},description:{color:"black",fontSize:"7px",marginBottom:"50px"},prix:{fontWeight:"bold",fontSize:"30px",textAlign:"right",color:"black"},containerImg:{height:"100%",width:"100%"},containerRight:{height:"100%",width:"100%",backgroundColor:"#56C7D6",padding:"20px"}}})),a(259);function Se(e){var t=ke(),a=Object(h.f)(),n=Object(q.a)(),o=r.a.useState(!0),c=Object(A.a)(o,2),i=c[0],l=c[1],s=Object(p.b)(),m=(s.enqueueSnackbar,s.closeSnackbar,r.a.useState([])),u=Object(A.a)(m,2),g=u[0],d=u[1],f=function(e){var t,a,n;for(n=e.length-1;n>0;n--)t=Math.floor(Math.random()*(n+1)),a=e[n],e[n]=e[t],e[t]=a;d(e)};r.a.useEffect((function(){b();var t=JSON.parse(localStorage.getItem("test")).categorie,n=1;l(!1),f(t.allPhotos),n-=1;var r=setInterval((function(){0===n?(e.state.socket.emit("test finished",!0),!1,a.push("/")):(f(t[1-n].allPhotos),n-=1)}),5e3);return function(){return clearInterval(r)}}),[]);var E=[],b=function(){var t=JSON.parse(localStorage.getItem("test")),a={age:t.age,gender:t.gender,categorie:t.categorie.name};e.state.socket.emit("send user data",a),!0};return r.a.createElement("div",null,i?r.a.createElement(U,{loading:!0,color:n.palette.primary.main}):r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(S.a,null,r.a.createElement(v.a,{container:!0,spacing:4},g.map((function(a,n){return r.a.createElement(v.a,{item:!0,xs:4},r.a.createElement("img",{className:t.containerImg,onLoad:function(t){return function(t,a,n){var r=t.target.getBoundingClientRect();E.push({_id:n,topRight:{x:r.right,y:r.top},topLeft:{x:r.left,y:r.top},bottomRight:{x:r.right,y:r.bottom},bottomLeft:{x:r.left,y:r.bottom}}),E.length===g.length&&(e.state.socket.emit("send photos",E),E=[])}(t,0,a)},src:"http://localhost:8080/api/photos/getPhotos?id="+a}))}))))))}var Ne=a(80),Fe=a(104),Ie=Object(f.a)((function(e){return{img:{margin:"auto",width:"100%"},accordion:{margin:"auto !important",width:"450px"},containerGrid:{textAlign:"center",marginTop:"10px"}}})),we=a(268),ze=a(81),Pe=a(271),Ae=Object(f.a)((function(e){return{root:{position:"absolute",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"max-content",height:"auto",textAlign:"center"},title:{marginBottom:"25px"}}}));function Re(e){var t=Ae();return r.a.createElement(Pe.a,{open:e.openModalDeleteCategories},r.a.createElement("div",{className:t.root},r.a.createElement(v.a,{container:!0,justify:"center"},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(y.a,{component:"h1",variant:"h6",color:"inherit",className:t.title},"Voulez-vous vraiment supprimer ces cat\xe9gories ?")),r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(x,{text:"Valider",onClickFunction:function(){var t=e.getCategoriesToDelete();e.postCategories(t),e.setOpenModalDeleteCategories(!1)}})),r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(x,{text:"Retour",onClickFunction:function(){e.setOpenModalDeleteCategories(!1)}})))))}var Te=Object(f.a)((function(e){return{root:{position:"absolute",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"max-content",height:"auto",textAlign:"center"},title:{marginBottom:"25px"}}}));function De(e){var t=Te();return r.a.createElement(Pe.a,{open:e.openModalDeletePhoto},r.a.createElement("div",{className:t.root},r.a.createElement(v.a,{container:!0,justify:"center"},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(y.a,{component:"h1",variant:"h6",color:"inherit",className:t.title},"Voulez-vous vraiment supprimer cette photo ?")),r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(x,{text:"Valider",onClickFunction:function(){e.postPhoto(e.photo),e.setOpenModalDeletePhoto(!1)}})),r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(x,{text:"Retour",onClickFunction:function(){e.setOpenModalDeletePhoto(!1)}})))))}function _e(){var e=Ie(),t=Object(q.a)(),a=Object(h.f)(),n=Object(p.b)(),o=n.enqueueSnackbar,c=(n.closeSnackbar,r.a.useState({})),i=Object(A.a)(c,2),l=i[0],s=i[1],m=r.a.useState({}),u=Object(A.a)(m,2),g=u[0],d=u[1],f=r.a.useState(!0),E=Object(A.a)(f,2),b=E[0],O=E[1],j=r.a.useState({}),C=Object(A.a)(j,2),N=C[0],F=C[1],I=r.a.useState(!1),w=Object(A.a)(I,2),z=w[0],P=w[1],R=r.a.useState(!1),T=Object(A.a)(R,2),D=T[0],_=T[1];r.a.useEffect((function(){B()}),[]);var H=function(e){F(Object(Fe.a)(Object(Fe.a)({},N),{},Object(Ne.a)({},e.target.name,e.target.checked)))};function B(){O(!0),fetch("http://localhost:8080/api/categories/getAllCategories",{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(e){s(e),O(!1)})).catch((function(e){O(!1),e.json().then((function(e){e.message&&o(e.message.message,{autoHideDuration:3e3,variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}))}))}return r.a.createElement("div",null,b?r.a.createElement(U,{loading:!0,color:t.palette.primary.main}):r.a.createElement("div",null,r.a.createElement(Re,{openModalDeleteCategories:z,setOpenModalDeleteCategories:P,getCategoriesToDelete:function(){var e=[];return Object.keys(N).forEach((function(t){!0===N[t]&&e.push(t.split("_")[0])})),e},postCategories:function(e){O(!0),e===[]?o("Veuillez choisir des objets \xe0 supprimer",{autoHideDuration:3e3,variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}}):fetch("http://localhost:8080/api/categories/deleteCategories",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({arrayId:e})}).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(e){B(),O(!1),F([]),o(e.message.message,{autoHideDuration:3e3,variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}})})).catch((function(e){O(!1),F([]),e.json().then((function(e){e.message&&o(e.message.message,{autoHideDuration:3e3,variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}))}))}}),r.a.createElement(De,{openModalDeletePhoto:D,setOpenModalDeletePhoto:_,photo:g,postPhoto:function(e){O(!0),fetch("http://localhost:8080/api/categories/deletePhotos",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({idImage:e.idImage,idCategory:e.idCategory})}).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(e){B(),O(!1),d({}),o(e.message.message,{autoHideDuration:3e3,variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}})})).catch((function(e){O(!1),d({}),e.json().then((function(e){e.message&&o(e.message.message,{autoHideDuration:3e3,variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}))}))}}),r.a.createElement(k,null),r.a.createElement(S.a,{maxWidth:"xl"},r.a.createElement(x,{textbefore:r.a.createElement(ce.a,null),text:"Retour",onClickFunction:function(){a.push("/")}}),l.map((function(a,n){return r.a.createElement(de.a,{key:n,className:e.accordion},r.a.createElement(fe.a,{expandIcon:r.a.createElement(xe.a,null)},r.a.createElement(we.a,{className:e.categoryName,"aria-label":a._id+"_label",onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:r.a.createElement(re.a,{icon:r.a.createElement(ze.a,null),checkedIcon:r.a.createElement(ze.b,null),name:a._id+"_checkbox",color:t.palette.primary.main,onChange:H})}),r.a.createElement(y.a,{variant:"h5",component:"h2"},a.name)),r.a.createElement(Ee.a,null,r.a.createElement(v.a,null,a.allPhotos.map((function(t,n){return r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement("img",{key:n,className:e.img,src:"http://localhost:8080/api/photos/getPhotos?id="+t,onClick:function(){d({idImage:t,idCategory:a._id}),_(!0)}}))})))))})),r.a.createElement(v.a,{container:!0,spacing:3,justify:"center",className:e.containerGrid},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(x,{text:"Supprimer",onClickFunction:function(){P(!0)}}))))))}var He=Object(f.a)((function(e){return{autoComplete:{margin:"auto"},textFieldAutoComplete:{margin:"auto"},containerImg:{width:"100%",height:"250px",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain"},color:{height:"50px",marginBottom:"15px",display:"flex",justifyContent:"center",alignItems:"center"}}})),Be=a(137);function Me(e){var t=He(),a=Object(h.f)(),n=Object(q.a)(),o=Object(p.b)(),c=o.enqueueSnackbar,i=(o.closeSnackbar,new Be.Rainbow);i.setNumberRange(0,100);var l=r.a.useState(!0),s=Object(A.a)(l,2),m=s[0],u=s[1],g=r.a.useState([]),d=Object(A.a)(g,2),f=d[0],E=d[1],b=r.a.useState(null),O=Object(A.a)(b,2),j=O[0],C=O[1];return r.a.useEffect((function(){u(!0),fetch("http://localhost:8080/api/categories/getAllCategories",{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(e){E(e),u(!1)})).catch((function(e){u(!1),e.json().then((function(e){e.message&&c(e.message.message,{autoHideDuration:3e3,variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}))}))}),[]),r.a.createElement("div",null,m?r.a.createElement(U,{loading:!0,color:n.palette.primary.main}):r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(S.a,{maxWidth:"xl"},r.a.createElement(x,{textbefore:r.a.createElement(ce.a,null),text:"Retour",onClickFunction:function(){a.push("/")}}),r.a.createElement(v.a,{container:!0,spacing:4},r.a.createElement(v.a,{item:!0,xs:12,className:t.containerAutoComplete},r.a.createElement($.a,{options:f,className:t.autoComplete,getOptionLabel:function(e){return e.name},style:{width:300},value:j,onChange:function(e,t){return C(t)},renderInput:function(e){return r.a.createElement(K.a,Object.assign({},e,{label:"Cat\xe9gorie",className:t.textFieldAutoComplete,variant:"outlined"}))}})),null!==j?r.a.createElement(r.a.Fragment,null,0!==j.proportion.length?j.allPhotos.map((function(e,a){return r.a.createElement(v.a,{item:!0,md:4},r.a.createElement("div",{className:t.color,style:{backgroundColor:"#"+i.colorAt(100*j.proportion[a])}},100*j.proportion[a]+"%"),r.a.createElement("div",{className:t.containerImg,style:{backgroundImage:"url(http://localhost:8080/api/photos/getPhotos?id="+e+")"}}))})):r.a.createElement("div",null," Aucun test avec cette cat\xe9gorie a \xe9t\xe9 r\xe9alis\xe9")," "):""))))}var Le=a(138),Ge=Object(f.a)((function(e){return{containerAccordion:{width:"750px",margin:"auto !important",marginBottom:"25px !important"},buttonPlayer:{marginLeft:"5px"},frame:{marginTop:"5px",marginBottom:"15px"},containerGazeHistory:{border:"2px solid black"},title:{font:e.font.titleFontCategory,marginBottom:"15px",textAlign:"center"},containerFilter:{border:"2px solid black",marginBottom:"25px",marginTop:"25px",paddingBottom:"25px"},textField:{width:"100%"},containerOneItemFilter:{margin:"15px"},containerButtonFilter:{textAlign:"center"}}})),We=a(99),Ve=a.n(We),Je=(a(211),a(141)),Ue=a.n(Je),qe=a(140),Ye=a.n(qe),Qe=a(142),Ke=a.n(Qe),Xe=a(139),Ze=a.n(Xe),$e=a(276);function et(e){var t=Ge(),a=Object(h.f)(),n=Object(q.a)(),o=Object(p.b)(),c=o.enqueueSnackbar,i=(o.closeSnackbar,r.a.useState(!0)),l=Object(A.a)(i,2),s=l[0],m=l[1],u=r.a.useState([]),g=Object(A.a)(u,2),f=g[0],E=g[1],O=r.a.useState([]),j=Object(A.a)(O,2),C=j[0],N=j[1],F=r.a.useState([]),I=Object(A.a)(F,2),w=I[0],z=I[1],P=r.a.useState(""),R=Object(A.a)(P,2),T=R[0],D=R[1],_=r.a.useState([0,100]),H=Object(A.a)(_,2),B=H[0],M=H[1],L=r.a.useState([]),G=Object(A.a)(L,2),W=G[0],V=G[1],J=r.a.useState([]),Y=Object(A.a)(J,2),Q=Y[0],X=Y[1],Z=r.a.useRef("test1"),ee=r.a.useState({height:500,width:50}),te=Object(A.a)(ee,2),ae=te[0],ne=te[1],re=r.a.useState([]),oe=Object(A.a)(re,2),me=oe[0],pe=oe[1];function he(){ne({height:500,width:Z.current.offsetWidth})}function be(e){var t=Object(ge.a)(C);t[e]+1>Q[e].gaze_history.length-1?t[e]=0:t[e]=t[e]+1,N(t)}function ve(e){var t=Object(ge.a)(C);t[e]-1<0?t[e]=Q[e].gaze_history.length-1:t[e]=t[e]-1,N(t)}return r.a.useEffect((function(){var e=null;if(void 0!==me[0])return e=setInterval((function(){be(me[0])}),40),function(){return clearInterval(e)}}),[me,C]),r.a.useEffect((function(){fetch("http://localhost:8080/api/test/getAllTest",{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(e){for(var t=[],a=[],n=0;n<e.length;n++)t.push(0),-1===a.indexOf(e[n].categorie)&&a.push(e[n].categorie);z(a),N(t),m(!1),X(e),E(e),he(),function(e){for(var t=0;t<e.length;t++){var a,n=Ze.a.create({container:document.querySelector(".heatMap"+t)}),r=[],o=Object(Le.a)(e[t].gaze_history);try{for(o.s();!(a=o.n()).done;){var c=a.value;r.push({x:Math.floor(c.x*Z.current.offsetWidth/e[t].screen_size.width),y:Math.floor(c.y*ae.height/e[t].screen_size.height),value:1})}}catch(i){o.e(i)}finally{o.f()}n.configure({maxOpacity:.75,minOpacity:0,blur:.75}),n.setData({max:20,data:r})}}(e)})).catch((function(e){m(!1),e.json().then((function(e){e.message&&c(e.message.message,{autoHideDuration:3e3,variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}))}))}),[]),r.a.useEffect((function(){return he(),window.addEventListener("resize",he),function(e){window.removeEventListener("resize",he)}}),[]),r.a.createElement("div",null,s?r.a.createElement(U,{loading:!0,color:n.palette.primary.main}):r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(S.a,{maxWidth:"lg"},r.a.createElement(x,{textbefore:r.a.createElement(ce.a,null),text:"Retour",onClickFunction:function(){a.push("/")}}),r.a.createElement(v.a,{container:!0,className:t.containerFilter},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"h5",component:"h2",className:t.title},"Filtrer")),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(v.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(v.a,{item:!0,xs:3,className:t.containerOneItemFilter},r.a.createElement(ue.a,{variant:"outlined",className:t.textField},r.a.createElement(se.a,{id:"demo-simple-select-outlined-label"},"Sexe"),r.a.createElement(ie.a,{className:t.textField,value:T,label:"Sexe",onChange:function(e){return D(e.target.value)}},r.a.createElement(le.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(le.a,{value:"H"},"Homme"),r.a.createElement(le.a,{value:"F"},"Femme")))),r.a.createElement(v.a,{item:!0,xs:3,className:t.containerOneItemFilter},r.a.createElement(y.a,{id:"range-slider",gutterBottom:!0},"Age :"),r.a.createElement($e.a,{className:t.slider,value:B,onChange:function(e,t){M(t)},valueLabelDisplay:"auto"})),r.a.createElement(v.a,{item:!0,xs:3,className:t.containerOneItemFilter},r.a.createElement($.a,{multiple:!0,onChange:function(e,t){V(t)},id:"tags-outlined",options:w,getOptionLabel:function(e){return e},filterSelectedOptions:!0,renderInput:function(e){return r.a.createElement(K.a,Object.assign({},e,{variant:"outlined",placeholder:"Cat\xe9gories"}))}})))),r.a.createElement(v.a,{item:!0,xs:12,className:t.containerButtonFilter},r.a.createElement(x,{text:"FILTRER",onClickFunction:function(){!function(){var e=f.filter((function(e){var t=!0;return(""!==T&&e.gender!==T||e.age<=B[0]||e.age>=B[1]||W.length>0&&-1===W.indexOf(e.categorie))&&(t=!1),t}));X(e)}()}}))),Q.map((function(e,a){return r.a.createElement(de.a,{className:t.containerAccordion},r.a.createElement(fe.a,{expandIcon:r.a.createElement(xe.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(y.a,{className:t.heading},Ve()(e.creation_date).locale("fr").format("LLLL"))),r.a.createElement(Ee.a,null,r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(y.a,null,"Sexe : ","F"===e.gender?"F\xe9minin":"Masculin")),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(y.a,null,"Cat\xe9gorie : ",e.categorie)),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(y.a,null,"Age : ",e.age)),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(d.a,{variant:"contained",color:"primary",className:t.buttonPlayer,onClick:function(e){!function(e){var t=Object(ge.a)(me),a=t.indexOf(e);a>-1?t.splice(a,1):t.unshift(e),pe(t)}(a)}},r.a.createElement(Ye.a,null)),r.a.createElement(d.a,{variant:"contained",color:"primary",className:t.buttonPlayer,onClick:function(e){be(a)}},r.a.createElement(Ue.a,null)),r.a.createElement(d.a,{variant:"contained",color:"primary",className:t.buttonPlayer,onClick:function(e){ve(a)}},r.a.createElement(Ke.a,null)),r.a.createElement(v.a,{container:!0,alignItems:"center",className:t.frame,spacing:2},r.a.createElement(v.a,{item:!0},r.a.createElement(y.a,null,"Frame :")),r.a.createElement(v.a,{item:!0},r.a.createElement(K.a,{type:"number",onChange:function(e){C[a]>parseInt(e.target.value)?ve(a):C[a]<parseInt(e.target.value)&&be(a)},value:C[a]})))),r.a.createElement(v.a,{item:!0,xs:12,ref:Z,className:Object(b.a)("heatMap"+a,t.containerHeatMap)},r.a.createElement("svg",{id:"svg",className:"paper",width:ae.width,height:ae.height},e.photos_info.map((function(t,a){return r.a.createElement("image",{key:a,xlinkHref:"http://localhost:8080/api/photos/getPhotos?id="+t._id,x:Math.floor(t.left*ae.width/e.screen_size.width),y:t.top*ae.height/e.screen_size.height,height:(t.bottom-t.top)/e.screen_size.height*ae.height,width:(t.right-t.left)/e.screen_size.width*ae.width})})),r.a.createElement("circle",{cx:ae.width*e.gaze_history[C[a]].x/e.screen_size.width,cy:ae.height*e.gaze_history[C[a]].y/e.screen_size.height,r:"5"}))))))})))))}function tt(){return r.a.createElement(g.a,null,r.a.createElement(h.c,null,r.a.createElement(Y,{path:"/CreateCategory",exact:!0,component:je}),r.a.createElement(Y,{path:"/DeleteCategory",exact:!0,component:_e}),r.a.createElement(Y,{path:"/AddPhotoToCategory",exact:!0,component:ye}),r.a.createElement(Y,{path:"/AllTest",exact:!0,component:et}),r.a.createElement(Y,{path:"/Stats",exact:!0,component:Me}),r.a.createElement(Y,{path:"/StartTest",exact:!0,component:pe}),r.a.createElement(Y,{path:"/Test",exact:!0,component:Se}),r.a.createElement(Y,{path:"/",exact:!0,component:F}),r.a.createElement(Y,{path:"*",exact:!0,component:F})))}var at=a(218),nt=a(143),rt=a.n(nt),ot=r.a.createRef(),ct=function(e){return function(){ot.current.closeSnackbar(e)}};c.a.render(r.a.createElement(H,null,r.a.createElement(u.a,{theme:m},r.a.createElement(p.a,{maxSnack:4,ref:ot,action:function(e){return r.a.createElement(at.a,{onClick:ct(e)},r.a.createElement(rt.a,{fontSize:"small",style:{color:"white"}}))}},r.a.createElement(tt,null)))),document.getElementById("root"))}},[[158,1,2]]]);
//# sourceMappingURL=main.571305c0.chunk.js.map